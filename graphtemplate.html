<html>

<head>
    <title>cytoscape-dagre.js demo</title>

    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">

    <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>

    <!-- for testing with local version of cytoscape.js -->
    <!--<script src="../cytoscape.js/build/cytoscape.js"></script>-->

    <script src="https://unpkg.com/dagre@0.7.4/dist/dagre.js"></script>
    <script src="https://cytoscape.org/cytoscape.js-dagre/cytoscape-dagre.js"></script>

    <style>
        body {
            font-family: helvetica;
            font-size: 10px;
        }

        #cy {
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            z-index: 999;
        }

        h1 {
            opacity: 0.5;
            font-size: 1em;
        }
    </style>

    <script>
        window.addEventListener('DOMContentLoaded', function () {

            var cy = window.cy = cytoscape({
                container: document.getElementById('cy'),

                boxSelectionEnabled: false,
                autounselectify: true,


                style: cytoscape.stylesheet()
                    .selector('node')
                    .css({
                        'height': 20,
                        'width': 20,
                        'background-fit': 'cover',
                        'border-color': 'data(bg)',
                        'border-width': 20,
                        'border-opacity': 0.5,
                        'label': 'data(name)',
                        'background-color': 'data(bgcolor)'
                    })

                    .selector('edge')
                    .css({
                        'curve-style': 'bezier',
                        'width': 5,
                        'target-arrow-shape': 'triangle',
                        'border-width': 10,
                        'line-color': '#ffaaaa',
                        //'target-arrow-color': '#ffaaaa',
                        'target-arrow-color': 'data(arrowcolor)',
                        'minlen': 10,
                        'line-color': 'data(color)',
                        'line-dash-pattern': [6, 3],
                        //                        'line-color': 'data(color)',                        
                        'line-style': 'data(style)',


                    }),
                layout: {
                    name: 'dagre',
                    rankDir: 'BT'
                    /* ,
                                        labelpos: 'R', */

                },

                elements: {
                    nodes: [{
                            data: {
                                id: 'cat',
                                name: 'tiddles',
                                bg: '#0f0'
                            }
                        },
                        {
                            data: {
                                id: 'bird',
                                bg: '#00f',
                                bgcolor: 'white' // not local
                            }
                        },
                        {
                            data: {
                                id: 'ladybug',
                                name: 'ladybug',
                                bgcolor: 'white'
                            }
                        },
                        {
                            data: {
                                id: 'aphid'
                            }
                        },
                        {
                            data: {
                                id: 'rose',
                                bgcolor: 'white',
                                bg: 'purple',
                                name: 'rose'
                            }
                        },
                        {
                            data: {
                                id: 'grasshopper'
                            }
                        },
                        {
                            data: {
                                id: 'plant'
                            }
                        },
                        {
                            data: {
                                id: 'wheat'
                            }
                        }
                    ],
                    edges: [{
                            data: {
                                source: 'cat',
                                target: 'bird',
                                width: 100,
                                color: '#ffaaaa',
                                arrowcolor: '#ffaaaa'
                            }
                        },
                        {
                            data: {
                                source: 'bird',
                                target: 'ladybug',
                                style: 'dashed',
                                color: '#f7d779',
                                arrowcolor: '#f7d779'
                            }
                        },
                        {
                            data: {
                                source: 'bird',
                                target: 'grasshopper',
                                color: '#ffaaaa',
                                arrowcolor: '#ffaaaa'

                            }
                        },
                        {
                            data: {
                                source: 'grasshopper',
                                target: 'plant'
                            }
                        },
                        {
                            data: {
                                source: 'grasshopper',
                                target: 'wheat'
                            }
                        },
                        {
                            data: {
                                source: 'ladybug',
                                target: 'aphid'
                            }
                        },
                        {
                            data: {
                                source: 'aphid',
                                target: 'rose'
                            }
                        }
                    ]
                }
            });

        });
    </script>
</head>

<body>


    <div id="cy"></div>

</body>

</html>